<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<!-- Tell the browser to be responsive to screen width -->
	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

	<title>Gbridge</title>

	<!-- Bootstrap -->
	<link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.css">
	<!-- bootstrap datepicker -->
	<link rel="stylesheet" href="/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
	<!-- daterange picker -->
	<link rel="stylesheet" href="/bower_components/bootstrap-daterangepicker/daterangepicker.css">
	<!-- DataTables -->
	<link rel="stylesheet" href="/bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css">
	<!-- Font Awesome -->
	<link rel="stylesheet" href="/bower_components/font-awesome/css/font-awesome.min.css">
	<!-- Ionicons -->
	<link rel="stylesheet" href="/bower_components/Ionicons/css/ionicons.min.css">
	<!-- jvectormap -->
	<link rel="stylesheet" href="/bower_components/jvectormap/jquery-jvectormap.css">
	<!-- Theme style -->
	<link rel="stylesheet" href="/dist/css/AdminLTE.min.css">
	<!-- AdminLTE Skins. Choose a skin from the css/skins folder instead of downloading all of them to reduce the load. -->
	<link rel="stylesheet" href="/dist/css/skins/_all-skins.min.css">

	<!-- Google Font -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">

	<!-- loading -->
	<link href="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3/dist/vue-loading.css" rel="stylesheet">

	<!-- Vue JS -->
	<script src="/js/vue.min.js"></script>
	<script src="/js/bootstrap-vue.js"></script>
	<script src="/js/vue-upload-component.js"></script>
	<script src="/js/jquery-3.1.1.min.js"></script>
	<script src="/js/polyfill.min.js"></script>
	<script src="/js/bootstrap.min.js"></script>

	<!-- jQuery 3 -->
	<script src="/bower_components/jquery/dist/jquery.min.js"></script>
	<!-- Bootstrap 3.3.7 -->
	<script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<!-- Moment -->
	<script src="/bower_components/moment/min/moment.min.js"></script>

	<!-- bootstrap datepicker -->
	<script src="/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
	<script src="/bower_components/bootstrap-datepicker/js/locales/bootstrap-datepicker.ko.js"></script>
	<!-- date-range-picker -->
	<script src="/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>

	<!-- DataTables -->
	<script src="/bower_components/datatables.net/js/jquery.dataTables.min.js"></script>
	<script src="/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js"></script>
	<!-- SlimScroll -->
	<script src="/bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
	<!-- jvectormap  -->
	<script src="/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js"></script>
	<script src="/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
	<!-- FastClick -->
	<script src="/bower_components/fastclick/lib/fastclick.js"></script>
	<!-- AdminLTE App -->
	<script src="/dist/js/adminlte.min.js"></script>
	<!-- AdminLTE for demo purposes -->
	<script src="/dist/js/demo.js"></script>

	<script src="/js/axios.min.js"></script>

	<script src="/js/common.js"></script>
	<script src="/js/common-deepcore.js"></script>
	
	<script>
		var screenName = getCookie("screenName");
		if (screenName !="" && screenName != null) {
			$(document).attr("title",this.screenName);
		} else {
			$(document).attr("title","Gbridge");
		}
	</script>

	<!-- loading -->
	<script src="https://cdn.jsdelivr.net/npm/vue-loading-overlay@3"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-growl/1.0.0/jquery.bootstrap-growl.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
</head>

<body class="hold-transition skin-blue sidebar-mini">
	<div class="wrapper">

		<!-- Main Header -->
		<header class="main-header">
			<!-- Logo -->
			<a href="/admin/main" class="logo" style="background-color:red"> <!-- mini logo for sidebar mini 50x50 pixels -->
				<span class="logo-mini"><b></b></span> <!-- logo for regular state and mobile devices -->
				<span class="logo-lg"><b>Gbridge</b></span>
			</a>

			<!-- Header Navbar -->
			<nav class="navbar navbar-static-top" role="navigation" id="topNav" style="background-color:red">
				<!-- Sidebar toggle button-->
				<a href="#" class="sidebar-toggle" data-toggle="push-menu" role="button">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>

				<div class="collapse navbar-collapse pull-left" id="navbar-collapse" style="background-color:red">
					<ul class="nav navbar-nav">
						<li class="text-center" v-bind:class="{ active : currentRoute.includes('/dashboard') || currentRoute.includes('/html/basic/')}" id="topNavBasic" v-on:click="clickTopMenu(1)">
							<a href="#"><i class="fa fa-edit"></i>자료실</a>
						</li>
					</ul>
				</div>

				<!-- Navbar Right Menu -->
				<div class="navbar-custom-menu" style="background-color:red">
					<ul class="nav navbar-nav">
						<!-- Tasks: style can be found in dropdown.less -->
						
						<li class="" id="uploadModal">
							<a href="#" data-toggle="modal" data-target="#uploadExeFileModal">
								<i class="fa fa-upload"></i> <span>ERP 설치파일 업로드</span>
								<input type="hidden" name="uploadState" th:value=${uploadState}/>
							</a>
						</li>
						
						<li class="">
							<a href="#" data-toggle="modal" data-target="#downloadExeFileModal">
								<i class="fa fa-download"></i> <span>ERP 설치파일 다운로드</span>
							</a>
						</li>
						<li class="">
							<a href="#" data-toggle="modal" data-target="#pwdChangeModal">
								<i class="fa fa-user"></i> <span>비밀번호 변경</span>
							</a>
						</li>
						<li class="">
							<a href="/admin/logout">
								<i class="fa fa-sign-out"></i> <span>로그아웃</span>
							</a>
						</li>
					</ul>
				</div>

				<!-- /.sidebar -->
				<script>
	            var topnav = new Vue({
	                name: 'TopNav',
	                el: '#topNav',
	                data: {
	                	currentRoute: window.location.pathname,
	                },
	            	methods: {
	            		clickTopMenu: function(no) {
							if(no == 1) {
								$('#subMenuBasic').removeClass('hide');
								$('#topNavBasic').addClass('active');
							}
							else {
								$('#subMenuBasic').addClass('hide');
								$('#topNavBasic').removeClass('active');
							}

							if(no == 2) {
								$('#subMenuTrade').removeClass('hide');
								$('#topNavOrder').addClass('active');
							}
							else {
								$('#subMenuTrade').addClass('hide');
								$('#topNavOrder').removeClass('active');
							}

							if(no == 3) {
								$('#subMenuAnalysis').removeClass('hide');
								$('#topNavAnalysis').addClass('active');
							}
							else {
								$('#subMenuAnalysis').addClass('hide');
								$('#topNavAnalysis').removeClass('active');
							}

							if(no == 4) {
								$('#subMenuSystem').removeClass('hide');
								$('#topNavSystem').addClass('active');
							}
							else {
								$('#subMenuSystem').addClass('hide');
								$('#topNavSystem').removeClass('active');
							}
	            		},
	            	}
	            })
				</script>
			</nav>
		</header>

		<!-- Left side column. contains the logo and sidebar -->
		<aside class="main-sidebar" th:fragment="menu-sidebar">

			<!-- sidebar: style can be found in sidebar.less -->
			<section class="sidebar" id="leftMenu">

				<!-- Sidebar user panel (optional) -->
				<div class="user-panel">
					<div class="pull-left image">
						<img src="/images/G_Bridge.jpg" class="img-circle" alt="User Image" style="width:100%;">
					</div>
					<div class="pull-left info">
						<p th:text="${session.ACNT_ID}"></p>
						<p th:text="${session.EMPL_NM}"></p>
					</div>
				</div>

				<!-- Sidebar Menu -->
				<div id="subMenuBasic" v-bind:class="{ hide : !currentRoute.includes('/dashboard') && !currentRoute.includes('/html/basic/')}">
					<ul class="sidebar-menu" data-widget="tree">
						<li class="header">자료실</li>
						<li class="treeview" v-bind:class="[{ active : currentRoute.includes('/html/basic/port/')}]">
							<a href="#">
								<i class="fa fa-circle-o"></i> <span>문서 자료실</span>
								<span class="pull-right-container"><i class="fa fa-angle-left pull-right"></i></span>
							</a>
							<ul class="treeview-menu">
								<li v-bind:class="{ active: currentRoute.includes('/html/basic/port/basic/')}">
									<a href="#" @click="moveMenu('1121', '/admin/menu/generalDocumentBoard')"><i class="fa fa-arrow-right"></i> <span>일반 문서 관리</span></a>
								</li>
								<li v-bind:class="{ active: currentRoute.includes('/html/basic/port/basic/')}">
									<a href="#" @click="moveMenu('1121', '/admin/menu/templateBoard')"><i class="fa fa-arrow-right"></i> <span>Template 관리</span></a>
								</li>
							</ul>
						</li>
					</ul>
				</div>


				<!-- Loading -->
				<div class="vld-parent" id="loading_div">
					<loading :active.sync="isLoading" 
					        :can-cancel="true" 
					        :on-cancel="false"
					        :is-full-page="true"></loading>
				</div>

			</section>
			<!-- /.sidebar -->



			<script>
            var layout = new Vue({
                name: 'Main',
                el: '#leftMenu',
                data: {
                	noDataText: '검색 조건을 입력 후 조회 버튼을 클릭하세요.',
                    currentRoute: window.location.pathname,
                    sessionMenuA: '[[${session.MENU_A}]]',
                    sessionMenuM: '[[${session.MENU_M}]]',
                    sessionMenuU: '[[${session.MENU_U}]]',
                    sma: [],
                    smm: [],
                    smu: [],
                    screenCode: '',
                    screenName: '',
                    inquiryPosible: false,
                    registPosible: false,
                    updatePosible: false,
                    deletePosible: false,
    		        isLoading: false,
                },
    	        components: {
    	            Loading: VueLoading
    	        },/*
    	        mounted: function() {
                	if(this.sessionMenuA.length > 0) {
                		this.sma = JSON.parse(this.sessionMenuA.replace(/&quot;/gi, "\""));
                	}
                	else {
                		this.sma = [];
                	}
                	if(this.sessionMenuM.length > 0) {
                		this.smm = JSON.parse(this.sessionMenuM.replace(/&quot;/gi, "\""));
                	}
                	else {
                		this.smm = [];
                	}
                	if(this.sessionMenuU.length > 0) {
                		this.smu = JSON.parse(this.sessionMenuU.replace(/&quot;/gi, "\""));
                	}
                	else {
                		this.smu = [];
                	}

                	this.inquiryPosible = $.parseJSON('[[${session.INQ_PERM}]]');
                	this.registPosible = $.parseJSON('[[${session.REG_PERM}]]');
                	this.updatePosible = $.parseJSON('[[${session.UPD_PERM}]]');
                	this.deletePosible = $.parseJSON('[[${session.DEL_PERM}]]');
                },*/
            	methods: {
            		moveMenu: function(screenCode, linkUrl) {
            			this.screenCode = screenCode;
    					this.screenName = '';

    					this.searchScreen(screenCode);

            			//document.title = this.screenName;
       					//$(document).attr("title",this.screenName);
       					saveCookie("screenName", this.screenName);
                			
            			if(this.screenCode == '') {
            				showAlert('권한', '메뉴에 접근할 권한이 없습니다. 관리자에게 문의해 주시기 바랍니다.', 'danger');
            			}
            			else {
                			location.href = linkUrl + "?screen=" + screenCode;
            			}
            		},
            		searchScreen: function(screenCode) {
    					for(var i = 0 ; i < this.smu.length ; i++) {
            				if(screenCode == this.smu[i].screenCode) {
            					this.screenCode = this.smu[i].screenCode;
            					this.screenName = this.smu[i].screenName;
            					break;
            				}
            			}

            			for(var i = 0 ; i < this.smm.length ; i++) {
            				if(screenCode == this.smm[i].screenCode) {
            					this.screenCode = this.smm[i].screenCode;
            					this.screenName = this.smm[i].screenName;
            					break;
            				}
            			}

            			for(var i = 0 ; i < this.sma.length ; i++) {
            				if(screenCode == this.sma[i].screenCode) {
            					this.screenCode = this.sma[i].screenCode;
            					this.screenName = this.sma[i].screenName;
            					break;
            				}
            			}
            		},
            		nodata: function() {
            			this.noDataText = '조회된 데이터가 없습니다. 검색조건을 확인하세요.';
            		},
    		    	showLoading: function() {
    		    		this.isLoading = true;
    		    	},
    		    	hideLoading: function() {
    		    		this.isLoading = false;
    		    	}
            	}
            })
			</script>
		</aside>

		<!-- Content Header (Page header) -->
		<section class="content-header" th:fragment="content-header">
			<h1>
				{{pageHeader.title}}
				<small>{{ pageHeader.description }}</small>
			</h1>
			<ol class="breadcrumb" v-html="pageHeader.breadcrumb"></ol>
		</section>

		<!-- Main Footer -->
		<footer class="main-footer" th:fragment="footer">
			<!-- To the right -->
			<div class="pull-right hidden-xs"></div>
			<!-- Default to the left -->
			<strong>Copyright &copy; 2019 Gbridge.</strong> All rights reserved.
		</footer>
	</div>

	<!-- ./wrapper -->
	<div th:fragment="expire-warning">
		<div class="modal modal-danger" id="modal-expire">
			<div class="modal-dialog w-300px">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">
							<i class="fa fa-warning"></i> <span>세션 만료!!</span>
						</h4>
					</div>
					<div class="modal-body">
						<div class="row margin-b-10">
							<div class="col-sm-4 text-right"
								style="font-size: 30px; color: #f13226;">
								<i class="fa fa-warning"></i>
							</div>
							<div class="col-sm-8">
								<span>접근 권한이 없습니다.<br /> 로그인 해주세요.
								</span>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-outline" id="expire_login_bt">로그인</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<div class="modal modal-warning show-alert" id="modal-alert">
			<div class="modal-dialog w-400px">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title" id="alert-title"></h4>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="text-center"><h4 id="alert-msg"></h4></div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-outline w-100px" id="alert_bt" data-dismiss="show-alert">확인</button>
					</div>
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->

		<div class="modal modal-danger confirm" id="modal-confirm">
			<div class="modal-dialog w-400px">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title" id="confirm-title"></h4>
					</div>
					<div class="modal-body">
						<div class="row">
							<div class="col-sm-8"><h4 id="confirm-msg"></h4></div>
						</div>
					</div>
					<div class="modal-footer text-center">
						<button type="button" class="btn btn-outline w-100px pull-left" data-dismiss="modal">취소</button>
						<button type="button" class="btn btn-outline w-100px" id="confirm_bt" data-dismiss="confirm">확인</button>
					</div>
				</div>
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
		
		<!-- ================================================================================================================================================================ -->
		<!-- 실행파일 Upload Modal -->
		<!-- ================================================================================================================================================================ -->
		<div class="modal fade" id="uploadExeFileModal" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">설치파일 업로드</h4>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<label class="control-label">파일</label>	
							<form id="uploadInstallFileForm" enctype="multipart/form-data">												
								<input class="control-label" type="file" id="uploadExecuteFile" name="uploadFileParam">
							</form>
							<span class="help-block hide"></span>
						</div>					
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal" id="bt_uploadInstallFile" style="background-color:black; color:white;">업로드</button>
						<button type="button" class="btn btn-default" data-dismiss="modal" v-on:click="cancelChangePwd">취소</button>						
					</div>
				</div>
			</div>
		</div>


		<!-- ================================================================================================================================================================ -->
		<!-- 실행파일 Download Modal -->
		<!-- ================================================================================================================================================================ -->
		<div class="modal fade" id="downloadExeFileModal" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">설치파일 다운로드</h4>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<label for="oldPwd" class="control-label">파일</label>
							<label class="control-label">업로드 일자  : </label>&nbsp;&nbsp;<span id="updateDate"></span>
							<span class="form-control" id="executeFileSpan"><a href="/admin/common/DownloadInstallFile" id="executeFile"></a></span>
							<span class="help-block hide"></span>
						</div>					
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal" v-on:click="cancelChangePwd">취소</button>						
					</div>
				</div>
			</div>
		</div>

	
		<!-- ================================================================================================================================================================ -->
		<!-- 비밀번호 변경 Modal -->
		<!-- ================================================================================================================================================================ -->
		<div class="modal fade" id="pwdChangeModal" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
						<h4 class="modal-title">비밀번호 변경</h4>
					</div>
					<div class="modal-body">
						<div class="form-group">
							<label for="oldPwd" class="control-label">현재 비밀번호:</label>
							<input type="password" class="form-control" id="prevPass" v-model="request.oldPwd">
							<span class="help-block hide"></span>
						</div>
						<div class="form-group">
							<label for="newPwd" class="control-label">새 비밀번호:</label>
							<input type="password" class="form-control" id="newPass" v-model="request.newPwd">
							<span class="help-block hide"></span>
						</div>
						<div class="form-group">
							<label for="newPwdConfirm" class="control-label">새 비밀번호 확인:</label>
							<input type="password" class="form-control" id="newPassConfirm" v-model="request.newPwdConfirm">
							<span class="help-block hide" id="newPwdConfirmSpan"></span>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-default" data-dismiss="modal" v-on:click="cancelChangePwd">취소</button>
						<button type="button" class="btn btn-primary" v-on:click="changePwd" id="passwordChangeButton">변경</button>
					</div>
				</div>
			</div>	
		</div>	

			<script>
			$(function(){
				checkId();
				checkUploadState();
				init();
				getInstallFile();
			});
			
			
			//-----------------------------------------------------------------------------------
			// initialize
			//-----------------------------------------------------------------------------------
			function init(){
				$("#bt_uploadInstallFile").click(function(){					
					uploadInstallFile();
				});			
			}								
			
			
			
			//-----------------------------------------------------------------------------------
			// 로그인 사용자 Check
			//-----------------------------------------------------------------------------------
			function checkId(){
				$.ajax({
					url:"/admin/common/session",
					type:"get",
					success:function(result){						
						var json = JSON.parse(result);
						var ACNT_ID = json.ACNT_ID;						
						if(ACNT_ID != "admin"){
							$("#uploadModal").css("display", "none");
						}
					}
				});
			}
			
			
			//-----------------------------------------------------------------------------------
			// ERP 설치파일 Upload
			//-----------------------------------------------------------------------------------
			function uploadInstallFile(){
				$("#uploadInstallFileForm").attr({
					action:"/admin/common/installFileRegistration",
					method:"post"
				});
				$("#uploadInstallFileForm").submit();
			}
			
			
			
			
			//-----------------------------------------------------------------------------------
			// checkUploadState
			//-----------------------------------------------------------------------------------
			function checkUploadState(){
				var result = $("input[name='uploadState']").val();					
				if(result != ''){
					if(result == "<200"){
						alert("ERP 설치 파일 업로드 성공");						
					}else{
						alert("ERP 설치 파일 업로드에 실패");						
					}
					history.back();
				}
			}
			
			
			
			
			//-----------------------------------------------------------------------------------
			// 설치파일 관련 정보 가져오기 (파일명, 업로드 일자)
			//-----------------------------------------------------------------------------------
			function getInstallFile(){
				$.ajax({
					url:"/admin/common/installFileName",
					type:"get",
					success:function(result){							
						if(result!=''){
							var json = JSON.parse(result);										
							var fileName = json.fileName;
							var updateDate = json.modifiedDate;
							$("#executeFile").text(fileName);
							$("#updateDate").text(updateDate);
						}else{
							$("#executeFileSpan").text("설치 파일이 존재하지않습니다, 관리자에게 문의하세요");
						}
					}
				});
			}
			
			
            var pc = new Vue({
                name: 'PwdChange',
                el: '#pwdChangeModal',
                data: {
                    request: {
                    	prevPass: '',
                    	newPass: '',
                    	newPassConfirm: ''                    	
                    },
                },
            	computed: {
            		validationCheck: function() {
            			// 입력항목 유효성 체크와 항목지정.
            			return {
            				prevPass: this.showValiText(!!this.request.oldPwd.trim()),
            				newPass: this.showValiText(!!this.request.newPwd.trim()),
            				newPassConfirm: this.showValiText(!!this.request.newPwdConfirm.trim()),
            			};
            		},
            	},
            	methods: {
            		cancelChangePwd: function() {
            			pc.clearInput();
            		},
            		changePwd: function() {
            			if(this.isValid(this.validationCheck)) {
            				if(this.request.newPwd != this.request.newPwdConfirm) {
            					showGrowl('새 비밀번호가 일치하지 않습니다.', 'warning', 1000);
            				}
            				else {
								pc.putChangePwd();
            				}
            			}
            		},
            		putChangePwd: function() {
            			axios({
            				method: 'post',
            				url: '/admin/account/newPwd',
            				params: {
            					prevPass : $("#prevPass").val(),
            					newPass : $("#newPass").val(),
            					newPassConfirm : $("#newPassConfirm").val()
            				}
            			}).then(function(value) {
            				console.log(value);
            				if(value.status == 200) {
            					var resultCode = value.data.resultCode;
            					if(resultCode == 1) {
	            					// 비밀번호 변경 성공. Modal창을 닫는다.
	                    			$('#pwdChangeModal').modal('toggle');
	        						$("#pwdChangeModal .close").click();

        							pc.clearInput();

        							showGrowl('비밀번호가 변경되었습니다.', 'success');
            					}
            					else if(value.data == 'unmatch') {
        							showGrowl('현재 비밀번호가 일치하지 않습니다.', 'warning');
            					}
            					else {
            						showGrowl('비밀번호 변경에 실패했습니다.', 'error');
            					}
            				}
            				else {
            					// 비밀번호 변경 실패.
            					showAlert('비멀번호 변경', '비밀번호 변경에 실패하였습니다.', 'danger');
            				}
            			}).catch(function(reason) {
            				checkError(reason);
            			});
            		},
            		clearInput: function() {
						this.request.oldPwd = '';
						this.request.newPwd = '';
						this.request.newPwdConfirm = '';
            		},
            		isValid: function(validationFunc) {
                        const validation = validationFunc;
                        return Object.keys(validation).every(function(key) {
                            var isValidation = validation[key];
                            if(!isValidation) {
                                showHelp(key, '이 필드는 필수값입니다.');
                            }
                            return isValidation;
                        })
            		},
            		showValiText: function(valid) {
           				return valid;
            		},
            	}
            })
        	</script>

</body>
</html>